# ระบบเช่าล็อคตลาด (Market Lock Rental System)

เอกสารฉบับนี้เป็นแผนออกแบบระบบเช่าล็อคตลาด ครอบคลุมทั้งฝั่งผู้ใช้ (User) และผู้ดูแลระบบ (Admin) โดยออกแบบให้เหมาะกับผู้ใช้งานอายุประมาณ 25–60 ปี เน้นความเข้าใจง่าย โปร่งใส และรองรับการใช้งานจริงในตลาด

---

## 1. วัตถุประสงค์ของระบบ
- อำนวยความสะดวกให้ผู้ค้าสามารถเลือกและเช่าล็อคตลาดได้ด้วยตนเอง
- ลดภาระงานเอกสารและการจัดการของผู้ดูแลตลาด
- เพิ่มความโปร่งใสในการจอง การชำระเงิน และสิทธิ์การเช่า
- รองรับการเช่าหลายรูปแบบ (รายวัน / รายสัปดาห์ / รายเดือน)

---

## 2. บทบาทผู้ใช้งานในระบบ

### 2.1 ผู้ใช้ (User / ผู้เช่า)
- บุคคลทั่วไปที่ต้องการเช่าล็อคตลาด
- สามารถดูพื้นที่ จอง เช่า ชำระเงิน และดูประวัติการเช่าได้

### 2.2 ผู้ดูแลระบบ (Admin)
- ผู้จัดการตลาด
- ดูแลพื้นที่ ราคา การอนุมัติการเช่า การชำระเงิน และการแจ้งเตือน

---

## 3. โครงสร้างระบบฝั่งผู้ใช้ (User Side)

### 3.1 หน้าแรก (Home / Market Overview)
- แสดงภาพรวมตลาด (Map View หรือ Grid View)
- แบ่งโซน (A, B, C, D)
- ใช้สีแสดงสถานะล็อค
  - เขียว: ว่าง
  - เหลือง: มีผู้จอง / รอชำระเงิน
  - แดง: ถูกเช่าแล้ว

### 3.2 หน้ารายละเอียดล็อค (Lock Detail)
- รูปภาพจริงของล็อค
- ข้อมูลโซน ราคา และขนาด
- ปฏิทินแสดงวันที่ว่าง / ไม่ว่าง
- เลือกระยะเวลาเช่า
  - รายวัน / รายสัปดาห์ / รายเดือน
- เลือกวันและเวลาเริ่มเช่า (Start DateTime)

### 3.3 ระบบจองและคิว (Booking & Queue)
- เมื่อผู้ใช้กดจอง ระบบจะ:
  - ตรวจสอบความว่างของช่วงเวลา
  - เพิ่มผู้ใช้เข้าคิว
  - ให้เวลาชำระเงินภายใน 3 ชั่วโมง

### 3.4 ระบบชำระเงิน (Payment)
- แสดงยอดเงินที่ต้องชำระ
- ผู้ใช้อัปโหลดสลิปการโอนเงิน
- ระบบ OCR ช่วยดึงข้อมูลจากสลิป (ยอด / วันที่ / เวลา)
- สถานะ: รอตรวจสอบ

### 3.5 สถานะการเช่า (Rental Status)
- รออนุมัติ
- เช่าสำเร็จ
- จองไม่สำเร็จ (กรณีมีผู้อื่นชำระก่อน)
- หมดสัญญา

### 3.6 การแจ้งเตือน (Notification)
- แจ้งเตือนเมื่อ:
  - ใกล้หมดเวลาชำระเงิน
  - อนุมัติ / ปฏิเสธการเช่า
  - ใกล้หมดสัญญา (7 วัน, 3 วัน, 24 ชม.)

### 3.7 ประวัติการเช่า (Rental History)
- แสดงรายการเช่าทั้งหมดที่ผ่านมา
- ระบุ:
  - ล็อค
  - โซน
  - ระยะเวลา
  - ราคา
  - สถานะ

---

## 4. โครงสร้างระบบฝั่งผู้ดูแล (Admin Side)

### 4.1 Dashboard
- สรุปภาพรวม:
  - จำนวนล็อคว่าง / ถูกเช่า
  - รายได้รายวัน / รายเดือน
  - โซนที่ได้รับความนิยม

### 4.2 การจัดการตลาด (Market Management)
- เพิ่ม / แก้ไข / ปิดโซน
- เพิ่ม / แก้ไขล็อค
- กำหนดราคาแต่ละโซน

### 4.3 การจัดการแพ็กเกจเช่า (Rental Plan)
- ตั้งค่าระยะเวลาเช่า
- ราคาแต่ละช่วงเวลา
- ส่วนลด (ถ้ามี)

### 4.4 การจัดการการจอง (Booking Management)
- ดูรายการจองทั้งหมด
- ตรวจสอบคิวผู้จอง
- ยกเลิกหรือแก้ไขการจองในกรณีพิเศษ

### 4.5 การตรวจสอบการชำระเงิน (Payment Verification)
- ดูสลิปที่ผู้ใช้อัปโหลด
- ข้อมูลจาก OCR
- อนุมัติ / ปฏิเสธการชำระเงิน
- เมื่ออนุมัติ:
  - ผู้จองอื่นในคิวจะหมดสิทธิ์ทันที
  - ล็อคเปลี่ยนสถานะเป็นถูกเช่า

### 4.6 การจัดการเวลาเช่า (Time Management)
- ระบบนับเวลาจาก Start DateTime
- กำหนด End DateTime อัตโนมัติ
- รองรับการต่อสัญญา

### 4.7 การจัดการผู้ใช้ (User Management)
- ดูข้อมูลผู้ใช้
- ดูประวัติการเช่า
- ระงับบัญชีกรณีผิดกติกา

### 4.8 ระบบแจ้งเตือน (Notification Control)
- ตั้งค่าเงื่อนไขการแจ้งเตือน
- ส่งแจ้งเตือนอัตโนมัติและแบบ manual

### 4.9 รายงานและสถิติ (Report)
- รายงานรายได้
- อัตราการใช้ล็อค
- สถิติผู้เช่าประจำ

---

## 5. Business Rules สำคัญ
- ล็อคหนึ่งสามารถมีผู้เช่าได้เพียง 1 รายต่อช่วงเวลา
- การจองมีเวลาชำระเงินจำกัด (เช่น 3 ชั่วโมง)
- หากมีผู้ชำระเงินสำเร็จ ผู้จองคิวอื่นจะหมดสิทธิ์
- ผู้เช่าเดิมมีสิทธิ์ต่อสัญญาก่อน
- ระบบแจ้งเตือนล่วงหน้าก่อนหมดสัญญา

---

## 6. สรุป
ระบบเช่าล็อคตลาดนี้ถูกออกแบบให้รองรับการใช้งานจริง ช่วยให้ทั้งผู้เช่าและผู้ดูแลตลาดทำงานได้สะดวก รวดเร็ว และลดความผิดพลาด พร้อมรองรับการขยายระบบในอนาคต

---

*เอกสารนี้สามารถนำไปใช้เป็นเอกสารออกแบบระบบ (System Design) หรือประกอบรายงานโปรเจ็กต์จบได้*

